{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container">
    <h2>Chat with {{ other_user.username }}</h2>
    <div class="messages">
        {% for message in messages %}
            <div class="{% if message.sender == request.user %}outgoing{% else %}incoming{% endif %}">
                <strong>{{ message.sender.username }}:</strong>
                <p>{{ message.message }}</p>
                <small>{{ message.timestamp|date:"Y-m-d H:i" }}</small>
            </div>
        {% empty %}
            <p>No messages yet.</p>
        {% endfor %}
    </div>
    <form method="post">
        {% csrf_token %}
        <textarea name="message" placeholder="Type your message here..."></textarea>
        <button type="submit">Send</button>
    </form>
</div>
{% endblock %}